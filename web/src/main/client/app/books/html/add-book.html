<!DOCTYPE html>
<html>
<body>
	<section>
		<div>
			<form name="form" novalidate>
				<div class="modal-header">
					<h3 class="modal-title">Dodaj nową książkę</h3>
				</div>
				<div class="modal-body">
					<form role="form">
						<div class="form-group"
							ng-class="{ 'has-error': form.title.$invalid && !form.title.$pristine }">
							<label for="title" class="col-sm-2 control-label">Tytuł</label> <input
								type="text" class="form-control" name="title"
								placeholder="Tytuł" ng-model="book.title" required />
							<p ng-show="form.title.$invalid && !form.title.$pristine"
								class="help-block">Tytuł jest wymagany!</p>
						</div>
						<div class="form-group">
							<label for="author" class="col-sm-2 control-label label-author">Autor</label>
							<div class="row">
								<div class="col-xs-3"
									ng-class="{ 'has-error': form.title.$invalid && !form.author_firstname.$pristine}">
									<input type="text" class="form-control" name="author_firstname"
										placeholder="Imię" ng-model="book.authors.firstName"
										required />
									<p
										ng-show="form.author_firstname.$invalid && !form.author_firstname.$pristine"
										class="help-block">Imię autora jest wymagane!</p>
								</div>
								<div class="col-xs-4"
									ng-class="{ 'has-error': form.title.$invalid && !form.author_lastname.$pristine}">
									<input type="text" class="form-control" name="author_lastname"
										placeholder="Nazwisko" ng-model="book.authors.lastName"
										required />
									<p
										ng-show="form.author_lastname.$invalid && !form.author_lastname.$pristine"
										class="help-block">Nazwisko autora jest wymagane!</p>
								</div>
								<div class="col-xs-1">
									<button class="btn btn-default" ng-click="addMoreAuthors()">Dodaj więcej autorów</button>
								</div>
							</div>
						</div>
						<div ng-show="authors.length" ng-include="'books/html/authors-table.html'"></div>
						
						<button class="btn btn-default" ng-disabled="form.$invalid"
							ng-click="addBook(book)">Dodaj książkę</button>
					</form>
				</div>
				<div class="modal-footer">
					<button type="submit" class="btn btn-warning" ng-click="$dismiss()">Zamknij okno</button>
				</div>
			</form>
		</div>
	</section>
</body>
</html>